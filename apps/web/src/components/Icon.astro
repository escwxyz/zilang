---
import { kebabToPascal } from "@/lib/utils";
import { icons, type IconProps } from "@lucide/astro";
import type { IconName } from "@repo/types";

interface Props extends IconProps {
  name: IconName;
}

const { name, ...restProps } = Astro.props;

const iconName = kebabToPascal(name);
const IconComponent = icons[iconName as keyof typeof icons];

if (!IconComponent) {
  throw new Error(`Icon "${name}" (${iconName}) not found in icons collection`);
}
---

<IconComponent {...restProps} />
